# tests/docker-compose.tests.yml
services:
  nether-bridge:
    build: ../
    environment:
      - LOG_LEVEL=DEBUG
    networks:
      - mc-network
    ports:
      - "19132:19132/udp"
      - "25565:25565/tcp"
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
      - ../settings.json:/app/settings.json
      - ../servers.json:/app/servers.json

  mc-bedrock:
    image: itzg/minecraft-bedrock-server:latest
    restart: "no"
    networks:
      - mc-network
    profiles:
      - servers
    environment:
      - EULA=TRUE

  mc-java:
    image: itzg/minecraft-server:latest
    restart: "no"
    networks:
      - mc-network
    profiles:
      - servers
    environment:
      - EULA=TRUE
      - TYPE=PAPER

networks:
  mc-network:
    driver: bridge